<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Document</title>
    <%- include ('../partials/head.ejs') %>
    <link rel="stylesheet" href="/css/style-productos.css" />
  </head>
  <body>
    <!-- Navbar -->
    <%- include ('../partials/header.ejs') %>

    <!-- Autopartes -->
    <!-- Header de autopartes -->

    <div class="wrapper">
      <header class="header-mobile">
        <button class="open-menu" id="open-menu">
          <i class="bi bi-list"></i>
        </button>
        <button class="close-menu" id="close-menu">
          <i class="bi bi-x"></i>
        </button>
      </header>
      <aside>
        <button class="close-menu" id="close-menu">
          <i class="bi bi-x"></i>
        </button>
        <header>
          <h1 class="logo-aside">SixMOTORS</h1>
        </header>
        <div class="menu-aside">
          <ul class="menu-autos">
            <% if (products[0].type == 0) { %>
            <li>
              <button
                id="todosAutos"
                class="boton-menu boton-categoria active"
                data-category="todosA"
              >
                <i class="bi bi-hand-index-thumb-fill"></i> Todos los autos
              </button>
            </li>
            <li>
              <button
                id="0km"
                class="boton-menu boton-categoria"
                data-category="0km"
              >
                <i class="bi bi-hand-index-thumb"></i> 0km
              </button>
            </li>
            <li>
              <button
                id="Usado"
                class="boton-menu boton-categoria"
                data-category="Usado"
              >
                <i class="bi bi-hand-index-thumb"></i> Usado
              </button>
            </li>
            <% } else { %>
            <li>
              <button
                id="todosRepuestos"
                class="boton-menu boton-categoria active"
                data-category="TodosR"
              >
                <i class="bi bi-hand-index-thumb-fill"></i> Todos los repuestos
              </button>
            </li>
            <li>
              <button
                id="iluminacion"
                class="boton-menu boton-categoria"
                data-category="Iluminación"
              >
                <i class="bi bi-hand-index-thumb"></i> Iluminación
              </button>
            </li>
            <li>
              <button
                id="motor"
                class="boton-menu boton-categoria"
                data-category="Motor"
              >
                <i class="bi bi-hand-index-thumb"></i> Motor
              </button>
            </li>
            <li>
              <button
                id="cubiertas"
                class="boton-menu boton-categoria"
                data-category="Cubiertas"
              >
                <i class="bi bi-hand-index-thumb"></i> Cubiertas
              </button>
            </li>
            <li>
              <button
                id="otros"
                class="boton-menu boton-categoria"
                data-category="Otros"
              >
                <i class="bi bi-hand-index-thumb"></i> Otros
              </button>
            </li>
            <% } %>
          </ul>
        </div>
        <footer>
          <p class="texto-footer">© 2023 SixMotors</p>
        </footer>
      </aside>

      <!-- Main de autopartes -->
      <main>
        <h2 class="titulo-principal" id="titulo-principal">
          Todos los productos
        </h2>
        <!-- Contenedor de articulos, autopartes -->
        <div id="contenedor-productos" class="contenedor-productos">
          <% products.forEach(prod => { %> <%-
          include('../partials/product.ejs', { prod: prod }) %> <% }); %>
        </div>
        <% if(type === 0) { %>
        <div class="pagination">
          <% for(let i = 1; i <= totalPages; i++) { %>
          <a
            href="/products/autos?page=<%= i %>"
            class="<%= currentPage == i ? 'active' : '' %>"
            ><%= i %></a
          >
          <% } %>
        </div>
        <% } else if(type === 1) { %>
        <div class="pagination">
          <% for(let i = 1; i <= totalPages; i++) { %>
          <a
            href="/products/autopartes?page=<%= i %>"
            class="<%= currentPage == i ? 'active' : '' %>"
            ><%= i %></a
          >
          <% } %>
        </div>
        <% } %>
      </main>
    </div>

    <!-- Footer -->

    <!-- Footer -->
    <%- include ('../partials/footer.ejs') %>

    <!-- javascript del Nav -->
    <script src="/javascript/cart.js"></script>
    <%- include('../partials/scripts') %>

    <script src="/javascript/autos.js"></script>
    <script src="/javascript/productCategory.js"></script>
  </body>
</html>
